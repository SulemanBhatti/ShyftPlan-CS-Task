{"version":3,"sources":["Components/Event.jsx","Components/Events.jsx","Utils/CustomImgDropdown.jsx","Components/EventDetails.jsx","App.js","index.js"],"names":["Event","event","history","useHistory","className","onClick","push","id","position","name","startsAt","endsAt","override","css","Events","useState","events","setEvents","loadData","setLoadData","offSet","setOffSet","startTimeBool","setStartTimeBool","timefilter","setTimeFilter","endTimeBool","setEndTimeBool","endData","setEndData","loader","setLoader","queryParams","useEffect","axios","get","params","login","password","headers","Authorization","then","response","data","items","slice","length","catch","err","console","log","Fragment","onChange","e","target","type","checked","for","_d","toISOString","inputProps","placeholder","color","loading","height","width","map","key","CustomImgDropdown","props","options","setOptions","selectedOption","setSelectedOption","row","value","src","image","alt","firstName","lastName","label","EventDetails","eventDetails","setEventDetails","useParams","substring","employees","App","basename","exact","path","component","render","to","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ca5e9b9f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Event({ event }) {\r\n  const history = useHistory();\r\n  return (\r\n    <tr\r\n      className=\"list-events\"\r\n      key={event?.id}\r\n      onClick={() => history.push(`/events/:${event?.id}`)}\r\n    >\r\n      <td>{event?.position?.name}</td>\r\n      <td>{event?.startsAt}</td>\r\n      <td>{event?.endsAt}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default Event;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport BarLoader from \"react-spinners/BarLoader\";\r\nimport Datetime from \"react-datetime\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport \"../Styles/Events.css\";\r\nimport { css } from \"@emotion/react\";\r\nimport Event from \"./Event\";\r\nconst override = css`\r\n  display: block;\r\n  margin: 50px;\r\n  float: right;\r\n`;\r\n\r\nfunction Events() {\r\n  const [events, setEvents] = useState([]);\r\n  const [loadData, setLoadData] = useState(0);\r\n  const [offSet, setOffSet] = useState(0);\r\n  const [startTimeBool, setStartTimeBool] = useState(true);\r\n  const [timefilter, setTimeFilter] = useState(\"\");\r\n  const [endTimeBool, setEndTimeBool] = useState(false);\r\n  const [endData, setEndData] = useState(false);\r\n  const [loader, setLoader] = useState(true);\r\n  const PAGE_LIMIT = 10;\r\n  const queryParams =\r\n    startTimeBool && timefilter\r\n      ? `startsAt=${timefilter}`\r\n      : endTimeBool && timefilter\r\n      ? `endsAt=${timefilter}`\r\n      : `offset=${offSet}`;\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\r\n        `https://fyx8bq1lpa.execute-api.eu-central-1.amazonaws.com/Prod/events?${queryParams}`,\r\n        {\r\n          params: {\r\n            login: \"frontend@shyftplan.com\",\r\n            password: \"api_test_auth_token\",\r\n          },\r\n          headers: {\r\n            Authorization:\r\n              \"Basic ZnJvbnRlbmRAc2h5ZnRwbGFuLmNvbTphcGlfdGVzdF9hdXRoX3Rva2Vu\",\r\n          },\r\n        }\r\n      )\r\n      .then((response) => {\r\n        setLoader(false);\r\n        setOffSet(offSet + 10);\r\n       if(timefilter){ \r\n         if(loadData===0){\r\n          setEvents(response?.data?.items.slice(0, PAGE_LIMIT));\r\n        }else if(timefilter){\r\n          setEvents(response?.data?.items.slice(loadData, response?.data?.items.length));\r\n        }\r\n      }else{\r\n          setEvents(response?.data?.items.slice(0, PAGE_LIMIT));\r\n        }\r\n        response?.data?.items.length <= 0\r\n          ? setEndData(true)\r\n          : loadData>response?.data?.items.length\r\n          ?  setEndData(true)\r\n          : setEndData(false);\r\n      })\r\n      .catch((err) => {\r\n        setLoader(false);\r\n        setEndData(true);\r\n        console.log(\"Error getting events\", err);\r\n      });\r\n  }, [loadData, timefilter]);\r\n\r\n  const handleLoadData = () => {\r\n    if (endData) {\r\n      setOffSet(0);\r\n      setTimeFilter(\"\");\r\n      setLoadData(0);\r\n    }\r\n    else if(timefilter){\r\n      setLoadData(loadData+PAGE_LIMIT);\r\n    }else{\r\n      setLoadData(loadData+1);\r\n    }\r\n  };\r\n\r\n  const handleRadioFilter = (e) => {\r\n    if (e.target.id === \"startsAt\") {\r\n      setStartTimeBool(true);\r\n      setEndTimeBool(false);\r\n    } else if (e.target.id === \"endsAt\") {\r\n      setEndTimeBool(true);\r\n      setStartTimeBool(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"events\">\r\n        <div className=\"header\">\r\n          <form className=\"form-width\" onChange={handleRadioFilter}>\r\n            <input\r\n              type=\"radio\"\r\n              id=\"startsAt\"\r\n              name=\"time\"\r\n              checked={startTimeBool}\r\n            />\r\n            <label for=\"startsAt\">Events that start after selected date</label>\r\n            <br />\r\n            <input type=\"radio\" id=\"endsAt\" name=\"time\" checked={endTimeBool} />\r\n            <label for=\"endsAt\">Events that start before selected date</label>\r\n          </form>\r\n          <Datetime\r\n            onChange={(e) => setTimeFilter(e._d.toISOString(e))}\r\n            inputProps={{\r\n              className: \"datetime\",\r\n              placeholder: \"Click to Select Time/Date\",\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <table>\r\n          <tr>\r\n            <th>Position Name</th>\r\n            <th>Start Time</th>\r\n            <th>End Time</th>\r\n          </tr>\r\n          {endData ? (\r\n            <p>No more data to show/No events available</p>\r\n          ) : loader ? (\r\n            <BarLoader\r\n              color={\"purple\"}\r\n              loading={loader}\r\n              css={override}\r\n              height={10}\r\n              width={300}\r\n            />\r\n          ) : (\r\n            events?.map((event, key) => <Event event={event} />)\r\n          )}\r\n        </table>\r\n      </div>\r\n      <div className=\"div-flex\">\r\n        <button className=\"button button1\" onClick={handleLoadData}>\r\n          {endData ? \"Reset\" : \"Load More\"}\r\n        </button>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Events;\r\n","import React, {useState, useEffect} from 'react';\r\nimport Select from 'react-select';\r\nimport \"../Styles/CustomImgDropdown.css\";\r\n\r\nconst CustomImgDropdown = (props) => {\r\n    const [options, setOptions] = useState([]);\r\n    const [selectedOption, setSelectedOption] = useState(null);\r\n\r\n    useEffect(()=>{\r\n        setOptions(props?.options?.map(row=> {\r\n            return {\r\n                value: <div className=\"div-flex\"><img className=\"emp-img-select\" src={row.image} alt=\"Avatar\" /><p className=\"emp-name-select\">{row.firstName}{\" \"}{row.lastName}</p></div>, \r\n                label: <div className=\"div-flex\"><img className=\"emp-img-select\" src={row.image} alt=\"Avatar\" /><p className=\"emp-name-select\">{row.firstName}{\" \"}{row.lastName}</p></div>\r\n              }\r\n          }));\r\n    },[]);\r\n\r\n    const handleChange = selectedOption => {\r\n        setSelectedOption(selectedOption);\r\n      };\r\n    \r\n    return (\r\n      <Select\r\n        value={selectedOption}\r\n        onChange={handleChange}\r\n        options={options}\r\n      />\r\n    );\r\n  }\r\n\r\nexport default CustomImgDropdown;","import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport BarLoader from \"react-spinners/BarLoader\";\r\nimport CustomImgDropdown from \"../Utils/CustomImgDropdown\";\r\nimport '../Styles/Events.css';\r\nimport { css } from \"@emotion/react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nconst override = css`\r\n  display: block;\r\n  margin: 50px;\r\n  float: right;\r\n`;\r\n\r\nfunction EventDetails() {\r\n  const [eventDetails, setEventDetails] = useState([]);\r\n  const [endData, setEndData] = useState(false);\r\n  const [loader, setLoader] = useState(true);\r\n  let { id } = useParams();\r\n  const history = useHistory();\r\n\r\n  useEffect(()=>{\r\n    axios.get(`https://fyx8bq1lpa.execute-api.eu-central-1.amazonaws.com/Prod/events/${id.substring(1)}`,{params:{\r\n      login: \"frontend@shyftplan.com\",\r\n      password: \"api_test_auth_token\"\r\n    },\r\n      headers: {\r\n        'Authorization': 'Basic ZnJvbnRlbmRAc2h5ZnRwbGFuLmNvbTphcGlfdGVzdF9hdXRoX3Rva2Vu'\r\n    }})\r\n    .then((response)=>{\r\n        setLoader(false);\r\n        setEventDetails(response?.data);\r\n        if(!response?.data) setEndData(true);\r\n    })\r\n    .catch(err=>{setLoader(false); console.log('Catch error', err)});\r\n  },[]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n    <div className=\"events\">\r\n      <table>\r\n        <tr>\r\n          <th>Position Name</th>\r\n          <th>Start Time</th>\r\n          <th>End Time</th>\r\n          <th>Employees </th>\r\n        </tr>\r\n        {endData \r\n          ? <p>Event does not exist</p> \r\n          : loader ? <BarLoader color={'purple'} loading={loader} css={override} height={10} width={300} /> \r\n          : eventDetails?.employees && <tr className='list-events' >\r\n                <td>{eventDetails?.position?.name}</td>\r\n                <td>{eventDetails?.startsAt}</td>\r\n                <td>{eventDetails?.endsAt}</td>\r\n                <td><CustomImgDropdown options={eventDetails?.employees}/></td>\r\n            </tr>}\r\n      </table>\r\n    </div>\r\n    <div className=\"div-flex\">\r\n      <button className=\"button button1\" onClick={()=>history.push(`/events`)}>Back</button>\r\n    </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default EventDetails;","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect\r\n} from \"react-router-dom\";\r\nimport Events from \"./Components/Events\";\r\nimport EventDetails from \"./Components/EventDetails\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <Router basename=\"/ShyftPlan-CS-Task\">\r\n      <div>\r\n        <Switch>\r\n          <Route exact path=\"/events/:id\" component={EventDetails} />\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            render={() => {\r\n              return (\r\n                <Redirect to=\"/events\" /> \r\n              )\r\n            }}\r\n          />\r\n          <Route exact path=\"/events\" component={Events} />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}