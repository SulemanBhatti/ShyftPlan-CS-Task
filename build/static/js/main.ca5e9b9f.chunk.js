(this["webpackJsonpshyftplan-cs-task"]=this["webpackJsonpshyftplan-cs-task"]||[]).push([[0],{40:function(e,t,n){},49:function(e,t,n){},84:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(13),i=n.n(a),l=(n(49),n(19)),o=n(4),d=n(5),j=n(20),r=n(21),b=n.n(r),u=n(24),h=n.n(u),v=n(43),O=n.n(v),m=(n(70),n(40),n(3)),x=n(2);var p,f=function(e){var t,n=e.event,c=Object(o.g)();return Object(x.jsxs)("tr",{className:"list-events",onClick:function(){return c.push("/events/:".concat(null===n||void 0===n?void 0:n.id))},children:[Object(x.jsx)("td",{children:null===n||void 0===n||null===(t=n.position)||void 0===t?void 0:t.name}),Object(x.jsx)("td",{children:null===n||void 0===n?void 0:n.startsAt}),Object(x.jsx)("td",{children:null===n||void 0===n?void 0:n.endsAt})]},null===n||void 0===n?void 0:n.id)},g=Object(m.css)(p||(p=Object(j.a)(["\n  display: block;\n  margin: 50px;\n  float: right;\n"])));var N,S=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(0),l=Object(d.a)(i,2),o=l[0],j=l[1],r=Object(c.useState)(0),u=Object(d.a)(r,2),v=u[0],m=u[1],p=Object(c.useState)(!0),N=Object(d.a)(p,2),S=N[0],A=N[1],k=Object(c.useState)(""),y=Object(d.a)(k,2),w=y[0],E=y[1],R=Object(c.useState)(!1),C=Object(d.a)(R,2),T=C[0],_=C[1],z=Object(c.useState)(!1),F=Object(d.a)(z,2),G=F[0],P=F[1],B=Object(c.useState)(!0),J=Object(d.a)(B,2),V=J[0],X=J[1],Z=S&&w?"startsAt=".concat(w):T&&w?"endsAt=".concat(w):"offset=".concat(v);return Object(c.useEffect)((function(){b.a.get("https://fyx8bq1lpa.execute-api.eu-central-1.amazonaws.com/Prod/events?".concat(Z),{params:{login:"frontend@shyftplan.com",password:"api_test_auth_token"},headers:{Authorization:"Basic ZnJvbnRlbmRAc2h5ZnRwbGFuLmNvbTphcGlfdGVzdF9hdXRoX3Rva2Vu"}}).then((function(e){var t,n,c,s;if(X(!1),m(v+10),w){if(0===o)a(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.items.slice(0,10));else if(w){var i,l;a(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.items.slice(o,null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.items.length))}}else a(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.items.slice(0,10));(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.items.length)<=0||o>(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.items.length)?P(!0):P(!1)})).catch((function(e){X(!1),P(!0),console.log("Error getting events",e)}))}),[o,w]),Object(x.jsxs)(s.a.Fragment,{children:[Object(x.jsxs)("div",{className:"events",children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsxs)("form",{className:"form-width",onChange:function(e){"startsAt"===e.target.id?(A(!0),_(!1)):"endsAt"===e.target.id&&(_(!0),A(!1))},children:[Object(x.jsx)("input",{type:"radio",id:"startsAt",name:"time",checked:S}),Object(x.jsx)("label",{for:"startsAt",children:"Events that start after selected date"}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"radio",id:"endsAt",name:"time",checked:T}),Object(x.jsx)("label",{for:"endsAt",children:"Events that start before selected date"})]}),Object(x.jsx)(O.a,{onChange:function(e){return E(e._d.toISOString(e))},inputProps:{className:"datetime",placeholder:"Click to Select Time/Date"}})]}),Object(x.jsxs)("table",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Position Name"}),Object(x.jsx)("th",{children:"Start Time"}),Object(x.jsx)("th",{children:"End Time"})]}),G?Object(x.jsx)("p",{children:"No more data to show/No events available"}):V?Object(x.jsx)(h.a,{color:"purple",loading:V,css:g,height:10,width:300}):null===n||void 0===n?void 0:n.map((function(e,t){return Object(x.jsx)(f,{event:e})}))]})]}),Object(x.jsx)("div",{className:"div-flex",children:Object(x.jsx)("button",{className:"button button1",onClick:function(){G?(m(0),E(""),j(0)):j(w?o+10:o+1)},children:G?"Reset":"Load More"})})]})},A=n(44),k=(n(84),function(e){var t=Object(c.useState)([]),n=Object(d.a)(t,2),s=n[0],a=n[1],i=Object(c.useState)(null),l=Object(d.a)(i,2),o=l[0],j=l[1];Object(c.useEffect)((function(){var t;a(null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.map((function(e){return{value:Object(x.jsxs)("div",{className:"div-flex",children:[Object(x.jsx)("img",{className:"emp-img-select",src:e.image,alt:"Avatar"}),Object(x.jsxs)("p",{className:"emp-name-select",children:[e.firstName," ",e.lastName]})]}),label:Object(x.jsxs)("div",{className:"div-flex",children:[Object(x.jsx)("img",{className:"emp-img-select",src:e.image,alt:"Avatar"}),Object(x.jsxs)("p",{className:"emp-name-select",children:[e.firstName," ",e.lastName]})]})}})))}),[]);return Object(x.jsx)(A.a,{value:o,onChange:function(e){j(e)},options:s})}),y=Object(m.css)(N||(N=Object(j.a)(["\n  display: block;\n  margin: 50px;\n  float: right;\n"])));var w=function(){var e,t=Object(c.useState)([]),n=Object(d.a)(t,2),a=n[0],i=n[1],l=Object(c.useState)(!1),j=Object(d.a)(l,2),r=j[0],u=j[1],v=Object(c.useState)(!0),O=Object(d.a)(v,2),m=O[0],p=O[1],f=Object(o.h)().id,g=Object(o.g)();return Object(c.useEffect)((function(){b.a.get("https://fyx8bq1lpa.execute-api.eu-central-1.amazonaws.com/Prod/events/".concat(f.substring(1)),{params:{login:"frontend@shyftplan.com",password:"api_test_auth_token"},headers:{Authorization:"Basic ZnJvbnRlbmRAc2h5ZnRwbGFuLmNvbTphcGlfdGVzdF9hdXRoX3Rva2Vu"}}).then((function(e){p(!1),i(null===e||void 0===e?void 0:e.data),(null===e||void 0===e?void 0:e.data)||u(!0)})).catch((function(e){p(!1),console.log("Catch error",e)}))}),[]),Object(x.jsxs)(s.a.Fragment,{children:[Object(x.jsx)("div",{className:"events",children:Object(x.jsxs)("table",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Position Name"}),Object(x.jsx)("th",{children:"Start Time"}),Object(x.jsx)("th",{children:"End Time"}),Object(x.jsx)("th",{children:"Employees "})]}),r?Object(x.jsx)("p",{children:"Event does not exist"}):m?Object(x.jsx)(h.a,{color:"purple",loading:m,css:y,height:10,width:300}):(null===a||void 0===a?void 0:a.employees)&&Object(x.jsxs)("tr",{className:"list-events",children:[Object(x.jsx)("td",{children:null===a||void 0===a||null===(e=a.position)||void 0===e?void 0:e.name}),Object(x.jsx)("td",{children:null===a||void 0===a?void 0:a.startsAt}),Object(x.jsx)("td",{children:null===a||void 0===a?void 0:a.endsAt}),Object(x.jsx)("td",{children:Object(x.jsx)(k,{options:null===a||void 0===a?void 0:a.employees})})]})]})}),Object(x.jsx)("div",{className:"div-flex",children:Object(x.jsx)("button",{className:"button button1",onClick:function(){return g.push("/events")},children:"Back"})})]})};function E(){return Object(x.jsx)(l.a,{basename:"/ShyftPlan-CS-Task",children:Object(x.jsx)("div",{children:Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{exact:!0,path:"/events/:id",component:w}),Object(x.jsx)(o.b,{exact:!0,path:"/",render:function(){return Object(x.jsx)(o.a,{to:"/events"})}}),Object(x.jsx)(o.b,{exact:!0,path:"/events",component:S})]})})})}i.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(E,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.ca5e9b9f.chunk.js.map